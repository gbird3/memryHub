{% extends "base.html" %}

{% load static %}

{% block title %}MemryHub{% endblock %}

{% block css %}
<link rel="stylesheet" type="text/css" href={% static "timeline/css/timeline.css" %}>
{% endblock %}

{% block content %}
<div>
	<div class="container-fluid">
		<div class = "row top-buffer text-center">
			<div class = "col-lg 12">
				<h1>{{ user.first_name }}'s Timelines</h1>
				<a href="/timeline/create"><button type="button" class="btn btn-success">Create New Timeline</button></a>
			</div>
		</div>
		<div class="row top-buffer bottom-buffer side-buffer">
      {% for timeline in timelines %}
			<div class = "col-lg-4 center-block btn-block">
				<div class="card top-buffer card-outline-info text-center" style="width: 100%;">
  				<img class="card-img-top" src= {% static "/home/media/grandpa.jpg" %} alt="Timeline card image">
  				<div class="card-block">
    				<h4 class="card-title">{{ timeline.name }}</h4>
    				<p class="card-text">{{ timeline.description }}</p>
    				<a href="{% url 'view' timeline.id %}" class="btn btn-info bottom-buffer">View Timeline</a>
            <a href="{% url 'edit' timeline.id %}" class="btn btn-info bottom-buffer">Edit Timeline</a>
					</br>
            <a href="" class="btn btn-danger bottom-buffer" data-toggle="modal" data-target="#confirm-delete">Delete Timeline</a>
  				</div>
				</div>
			</div>

			<!-- Modal for delete -->

        <div class="modal fade" id="confirm-delete" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
          <div class="modal-dialog">
              <div class="modal-content">
                  <div class="modal-header">
                      <h2 >Confirm delete?</h2>
                  </div>
                  <div class="modal-body">
                      <p>Are you sure you wish to delete this timeline?</p>
                      <p style = "font-style: italic">Note: This will not delete the folder in your Google Drive folder. This will only make the folder inactive on this website. You will still have access to the folder through your Google Drive.</p>
                  </div>
                  <div class="modal-footer">
                      <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                      <a href = "{% url 'delete' timeline.id %}" class="btn btn-danger btn-ok">Confirm Delete</a>
                  </div>
              </div>
          </div>
        </div>

      {% endfor %}
  	</div>
	</div>
</div>

{% endblock %}
